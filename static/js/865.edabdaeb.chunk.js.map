{"version":3,"file":"static/js/865.edabdaeb.chunk.js","mappings":"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","sources":["webpack://goit-react-hw-05-movies/./src/components/Searchbar/Searchbar.module.css?8d9e","components/Searchbar/Searchbar.jsx","webpack://goit-react-hw-05-movies/./src/pages/Movies/Movies.module.css?82ee","pages/Movies/Movies.jsx","services/api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"form\":\"Searchbar_form__D-hp5\",\"button\":\"Searchbar_button__nkcjk\",\"input\":\"Searchbar_input__19umw\"};","import { useState } from 'react';\nimport s from './Searchbar.module.css';\n\nconst Searchbar = ({ onSubmit }) => {\n  const [input, setInput] = useState('');\n\n  const handleChange = e => {\n    setInput(e.target.value);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    onSubmit(input);\n    setInput('');\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className={s.form}>\n      <label className={s.btnlabel}>\n        <input\n          type=\"text\"\n          value={input}\n          onChange={handleChange}\n          autocomplete=\"off\"\n          autofocus\n          placeholder=\"Search movies\"\n          className={s.input}\n        />\n      </label>\n      <button type=\"submit\" className={s.button}>\n        Search\n        {/* <MyIcon /> */}\n      </button>\n    </form>\n  );\n};\n\nexport default Searchbar;\n","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"Movies_container__+-Cnt\",\"gallery\":\"Movies_gallery__yRwZf\",\"item\":\"Movies_item__Ba4aJ\",\"image\":\"Movies_image__vvLaG\",\"link\":\"Movies_link__MzAfU\"};","import { useEffect, useState } from 'react';\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\nimport { api } from '../../services/api';\nimport Searchbar from '../../components/Searchbar';\n// import { ReactComponent as MyIcon } from '../../icon/search.svg';\n\nimport s from './Movies.module.css';\n\nconst Movies = () => {\n  const [movies, setMovies] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query') ?? '';\n  const location = useLocation();\n  useEffect(() => {\n    if (query) {\n      try {\n        api.fetchMovie(query).then(({ data }) => {\n          if (data.results.length === 0) {\n            setSearchParams('');\n          }\n          setMovies(data.results);\n        });\n      } catch (error) {\n        console.log(error);\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [query]);\n\n  const handleSubmit = value => {\n    setSearchParams(value !== '' ? { query: value } : {});\n  };\n\n  return (\n    <div className={s.container}>\n      <Searchbar onSubmit={handleSubmit} />\n      <div>\n        <ul className={s.gallery}>\n          {movies.map(({ title, poster_path, id }) => {\n            return (\n              <li key={id} className={s.item}>\n                <Link\n                  to={`/movies/${id}`}\n                  className={s.link}\n                  state={{ from: location }}\n                >\n                  <img\n                    className={s.image}\n                    src={`https://image.tmdb.org/t/p/w500/${poster_path}`}\n                    alt={title}\n                  />\n                  <p className={s.link}>{title}</p>\n                </Link>\n              </li>\n            );\n          })}\n        </ul>\n      </div>\n    </div>\n  );\n};\n\nexport default Movies;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\nconst API_KEY = '4126216689337915d73a8e90fb5db117';\n\nconst fetchTrendingMovies = async () => {\n  try {\n    const URL = `/trending/movie/day?api_key=${API_KEY}`;\n    const data = await axios.get(URL);\n    return data;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nconst fetchMovie = async query => {\n  try {\n    const URL = `/search/movie?api_key=${API_KEY}&query=${query}`;\n    const data = await axios.get(URL);\n    return data;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nconst fetchMovieDetails = async id => {\n  try {\n    const URL = `/movie/${id}?api_key=${API_KEY}`;\n    const data = await axios.get(URL);\n    return data;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nconst fetchMovieDetailsActors = async id => {\n  try {\n    const URL = `/movie/${id}/credits?api_key=${API_KEY}`;\n    const data = await axios.get(URL);\n    return data;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nconst fetchMovieDetailsReviews = async id => {\n  try {\n    const URL = `/movie/${id}/reviews?api_key=${API_KEY}`;\n    const data = await axios.get(URL);\n    return data;\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nexport const api = {\n  fetchTrendingMovies,\n  fetchMovie,\n  fetchMovieDetails,\n  fetchMovieDetailsActors,\n  fetchMovieDetailsReviews,\n};\n"],"names":["onSubmit","useState","input","setInput","e","preventDefault","className","s","type","value","onChange","target","autocomplete","autofocus","placeholder","movies","setMovies","useSearchParams","searchParams","setSearchParams","query","get","location","useLocation","useEffect","api","then","data","results","length","error","console","log","map","title","poster_path","id","to","state","from","src","alt","axios","API_KEY","fetchTrendingMovies","URL","fetchMovie","fetchMovieDetails","fetchMovieDetailsActors","fetchMovieDetailsReviews"],"sourceRoot":""}